name: petstore-test
description: Sample test in YAML
variables:
  - name: petId
    value: 1000
actions:
  - camel:
      jbang:
        run:
          integration:
            name: "petstore"
            file: "../petstore.camel.yaml"
            systemProperties:
              file: "../application.properties"
          resources:
            - "petstore-api.json"
  - openapi:
      specification: "http://localhost:8080/openapi"
      client: "http://localhost:8080"
      sendRequest:
        operation: getPetById
  - openapi:
      specification: "http://localhost:8080/openapi"
      client: "http://localhost:8080"
      receiveResponse:
        operation: getPetById
        status: 200

  - openapi:
      specification: "http://localhost:8080/openapi"
      client: "http://localhost:8080"
      sendRequest:
        operation: addPet
  - openapi:
      specification: "http://localhost:8080/openapi"
      client: "http://localhost:8080"
      receiveResponse:
        operation: addPet
        status: 200
